<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Insert title here</title>
</head>

<body>

    <input class="btnAdd" type="button" name="btnAdd" value="ÌååÏùº ÏÑ†ÌÉù Ï∂îÍ∞Ä" />
    <input class="btnremove" type="button" name="btnremove" value="ÌååÏùº ÏÑ†ÌÉù Ï†úÍ±∞" />

    <br />
    <DIV id="textHolder">

    </DIV>

    <script>
        const btnAdd = document.querySelector(".btnAdd");
        const textHolder = document.getElementById("textHolder");
        let cnt = 0;
        btnAdd.addEventListener("click", add);

        function add() {

            let i = textHolder.children.length + 1

            const div = document.createElement("div");
            div.setAttribute("class", "sector");

            const img = document.createElement("img");
            img.setAttribute("alt", "üçî");
            img.setAttribute("style", "height: 60px; width: 50px;");
            img.setAttribute("id", "user_image");

            const label = document.createElement("label");
            label.setAttribute("class", "label");
            label.innerText = "ÌååÏùº ÏÑ†ÌÉù" + i;
            
            const input = document.createElement("input");
            input.setAttribute("type", "file");
            input.setAttribute("onchange", "upload(event)");
            input.setAttribute("name", "file");
            input.setAttribute("id", "user_profile_img");

            div.appendChild(img);
            div.appendChild(label);
            div.appendChild(input);

            textHolder.appendChild(div);
        }


        const btnremove = document.querySelector(".btnremove");
        btnremove.addEventListener("click", remove);

        function remove() {
            const textHolder = document.getElementById("textHolder");
            textHolder.lastChild.remove();
        }
    </script>


    <script>
        function upload(event){
            console.log(event.target.parentElement)
            let img = event.target.parentElement;
            var preview = new FileReader();
            preview.onload = function (e) {
                // img id Í∞í 
                img.firstChild.src = e.target.result;
            };
            preview.readAsDataURL(img.lastChild.files[0]);
        }
    </script>

</body>

</html>